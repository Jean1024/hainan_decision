// var win = nwDispatcher.requireNwGui().Window.get();
// win.showDevTools();
(function(global){
	var Store = Util.Store;
	var $container;
	var progressWidth;
	$(function(){
		$container = $('.container');
		progressWidth = $container.width() - 55;
	})
	var delay = 1000;
	var isShowMenu = Store.get('play');

	var isShowedNotice = isShowMenu;//是否已经显示过提示
	var Player = function(_totalNum,callback,tuli){
		var self = this;
		self.cIndex = -1;
		self.tIndex = _totalNum;
		var width = progressWidth / _totalNum - 5;
		self.pWidth = width;
		var $html = '<div class="fix_layer bottom_layer nav_animate">';
					if(tuli){
						$html += '<div class="tuli_layer"><img src="'+tuli+'"/></div>';
					}
					$html +='<span class="btn_player">';
					if(!isShowedNotice){
						isShowedNotice = true;
						$html += '<div class="notice" id="n_play"><i>点击这里播放</i><div><div></div></div></div>';
					}
					$html += '</span>';
						$html +='<div class="progress">';
						$html += '<div class="handle" style="left:'+(width*_totalNum)+'px"><i></i></div>';
						for(var i = 0;i<_totalNum;i++){
							$html += '<span data-index='+i+' style="width:'+width+'px" class="on"></span>'
						}
			$html +=			'</div>'+
							'</div>';
		$html = $($html).appendTo($container);
		self.playerTT;
		var $btn_play = $html.find('.btn_player').click(function(){
			Store.set('play',true);
			var $this = $(this);
			$('#n_play').hide();
			if($this.hasClass('pause')){
				self.stop();
				$this.removeClass('pause');
			}else{
				$this.addClass('pause');
				self.play(0);
			}
		});
		var $btns = self.progressBtns = $html.find('.progress span').click(function(){
			self.stop();
			self.play($(this).data('index'),true);
		});
		var $handle = self.handle = $html.find('.progress .handle');
		self.playerHTML = $html;
		self.callback = callback || function(toIndex,fn){fn()};
	}
	var prop = Player.prototype;
	prop.play = function(index,isFromProgress){
		var self = this;
		var callback = self.callback;
		var cIndex = self.cIndex;
		var tIndex = self.tIndex;
		var toIndex = index != null? index:cIndex+1<tIndex?cIndex+1:-1;
		if(toIndex < 0){
			self.stop();
			// callback(0);
		}else{
			var $span = self.progressBtns.removeClass('on');
			self.playerHTML.find('.progress .time').show();
			$span.filter(':lt('+toIndex+'),:eq('+toIndex+')').addClass('on');
			self.handle.css({left: self.pWidth * (toIndex+1) + 2});
			self.cIndex = toIndex;
			callback(toIndex,function(){
				if(!isFromProgress){//当点击进度条上的按钮时不继续播放
					self.playerTT = setTimeout(function(){;
						self.play();
					},delay);
				}
			});
		}
	}
	prop.stop = function(){
		var self = this;
		self.cIndex = -1;
		// self.playerHTML.find('.progress .time').hide();
		// self.progressBtns.removeClass('on');
		self.playerHTML.find('.btn_player').removeClass('pause');
		// self.handle.css({left: 0});
		clearTimeout(this.playerTT);
	}
	prop.hide = function(){
		this.stop();
		this.playerHTML.remove();
	}
	var relativeWidth;//时间提示参考最外层容器的宽度
	prop.showText = function(text){
		var self = this;
		var $html = self.playerHTML;
		var $time = $html.find('.progress .time');
		if($time.length == 0){
			$time = $('<div class="time"><i></i><div></div></div>').appendTo($html.find('.progress'));
		}
		if(text){
			try{
				$time.find('i').text(text);
				var toItem = $html.find('span.on').last();

				var toItemW = toItem.width();
				var timeW = $time.width();
				var toItemLeft = toItem.position().left + toItemW - timeW/2;
				var toLeft = toItemLeft;// - (timeW - toItemW)/2;
				var sorrowLeft = timeW / 2 - 10;
				if(!relativeWidth){
					relativeWidth = $html.find('.progress').width()+10;
				}
				if(toLeft + timeW > relativeWidth){
					var fixedLeft = relativeWidth - timeW;
					sorrowLeft += toLeft - fixedLeft;
					toLeft = fixedLeft;
				}else if(toLeft < 0){
					sorrowLeft += toLeft;
					toLeft = 0;
				}

				$time.find('div').css({
					left: sorrowLeft
				});
				$time.css({
					left:  toLeft
				}).show();
			}catch(e){}
		}else{
			$time.hide();
		}
	}
	global.Player = Player;
})(this);
$(function(){
	var U = Util;
	var Nav = U.Nav;
	var getJson = U.getJson;
	var Loading = U.Loading;

	/*初始化播放器*/
	var initPlayer = function(items_arr,renderFn,tuli){
		var len = items_arr.length;
		var fn = function(toIndex,nextFn){
			var text = renderFn(toIndex,nextFn);
			player && player.showText(text||'');
		}
		if(len > 1){
			$('.bottom_layer').remove();
			player = new Player(len,fn,tuli);
		}
		// renderFn(items_arr.length-1);//初始化第一个数据
		fn(items_arr.length-1);
	}

	var REG_URL = /(.*)\/(\d+)$/;
	var _temp_list_url;//暂时存储内容所属的分类列表地址
	var _temp_content_url;//暂时存储内容地址
	/*得到调用内部访问的代码*/
	function _getInvokeUrl(){
		var args = '"'+[].join.call(arguments,'","')+'"';
		args = args.replace(/\\/g,'\\\\');//防止字符串中出现类似"[\d]"的情况
		args = args.replace(/"true"/g,true).replace(/"false"/g,false);
		return 'javascript:Util.invoke('+args+')';
	}
	/*得到分页按钮的页码*/
	function _getPage(oldUrl, nextNum){
		var m = REG_URL.exec(oldUrl);
		var toUrl='';
		if(m){
			// toUrl = oldUrl.replace(m[0],'_'+nextNum+m[3]);
			toUrl = m[1]+'/'+nextNum;
		}
		return toUrl;
	}
	/*得到图片点击时查看大图的链接*/
	function _getBigImgUrl(img_src){
		return 'wisp://pImg.wi?url='+img_src+'&';
	}
	var _getAlarmInfo = (function(){
        var yjlb = ['台风', '暴雨', '暴雪', '寒潮', '大风', '沙尘暴', '高温', '干旱', '雷电', '冰雹', '霜冻', '大雾', '霾', '道路结冰'];
        var gdlb = ['寒冷', '灰霾', '雷雨大风', '森林火险', '降温', '道路冰雪','干热风','低温','冰冻'];
        var yjyc = ['蓝色', '黄色', '橙色', '红色'];
        var gdyc = ['白色'];
		return function(data) {
			var level = data.w6,
				textIndex = data.w4;
			var img = '';
			if(level > 90 ||textIndex > 90){
				img = '0000';
			}else{
				img = textIndex+level;
			}
			var org = data.w1+data.w2+data.w3;
			var result = {
				'type': 'alarm',
				org: org,
				title: org +'气象台发布'+data.w5+data.w7+'预警',
				time: data.w8,
				img: './img/waring/icon_warning_'+img+'.png',
				content: data.w9
			}
			return result;
		}
	})();
    function clearContent(){
    	$('.c_list,.c_content').remove();
    }
    var $content = $('.content');
    /*防止误点击*/
    $content.delegate('a','click',function(){
    	if(parseFloat($('.nav_left').css('left'))){
			return false;
		}
		return true;
    });
    var _getPdfUrl = (function(){
    	var encode = encodeURIComponent;
    	return window.nwDispatcher? (function(){
    		var _win = nwDispatcher.requireNwGui().Window;
    		var _cache_win = {};
    		_win.get().on('close', function(){
    			for(var i in _cache_win){
    				_cache_win[i].close();
    			}
    			this.close(true);
    		});
    		function _open(src, title){
    			var _cache = _cache_win[src];
    			if(_cache){
    				_cache.focus();
    			}else{
	    			var _w = _win.open('pdf/view.html?file='+encode(src)+'&title='+encode(title), {"toolbar": false, "title": title ,"icon": "./center/img/logo.png"});
	    			_w.on('close', function(){
	    				delete _cache_win[src];
	    				_w.close(true);
	    			});
	    			_w.on('loaded', function(){
	    				_w.focus();
	    			});

	    			_cache_win[src] = _w;
    			}
    		}
    		U.invoke.reg('_openPDF', _open);
    		return function(src, title){
	    		return _getInvokeUrl('_openPDF', src, title);
	    	}
    	})(): function(src, title){
    		return 'wisp://pPdf.wi?title='+encode(title)+'&injectedObjectSrc='+src;
    	}
    })();
    function initNavSort(url, b, title){
    	Loading.show();
		getJson(url, function(data){
			if(data){
				var sortArr = [];
				$.each(data.l, function(i, v){
					sortArr.push({
						name: v.l1,
						l_url: v.l2
					});
				});
				Nav.Top.initByData(title, sortArr, nav_top_chage_callback);
			}
			Loading.hide();
		});
    }

	var _cache = {};
	var id = 0;
	function _set(val) {
		var key = 'c_'+(id++);
		_cache[key] = val;
		return key;
	}
	function _get(key) {
		return _cache[key];
	}
	var COLOR_GLOBAL;
	var TYPE_ITEM;//栏目类型
	function initList(list_url,no_cache){
		U.canBack(false);
		var isHavePageNum = function(pageNumber){
			/*这里应该用强制比较，('' == 0) = true;但是('' === 0) = false */
			return pageNumber !== '' && !isNaN(pageNumber);
		}
		_temp_list_url = list_url;
		Loading.show();
		getJson(list_url,function(data){
			console.log('renderList', data);
			// data.prev = 1;
			// data.next = 3;

			clearContent();
			var type = data.type;
			var desc = data.desc;
			var className = data.cn || '';
			var html = '<div class="c_list '+(className)+'">'+
						(desc? '<p class="desc">'+desc+'</p>':'');
			if(data && data.l.length > 0){
				if (type == 'alarm') {
					html += '<div class="c_content _alarm">';
					var title = '城市名';
					if (data.l.length == 1 && !data.l[0].name) {
						title = '海区名称';
					}
					html += '<table><tr><td width="30%" data-nosort="true">'+title+'</td><td data-nosort="true">预警信息</td></tr>';
					$.each(data.l, function(i, v) {
						html += '<tr>';
						html += '<td>'+(v.name||'海南省海区')+'</td>';
						html += '<td class="_alarm_list">';
						$.each(v.list, function(_i, _item) {
							var key = _set(_item);
							html += '<a href=\''+_getInvokeUrl('initContent', key, true)+'\' title="'+_item.title+'"><img src="'+_item.img+'"/></a>';
						});
						html += '</td>';
						html += '</tr>';
					});
					html += '<table></div>';
					// $.each(data.l, function(i, v) {
					// 	html += '<li class="_alarm">';
					// 	html += '<span>'+v.name+'</span>';
					// 	html += '<div>';
					// 	$.each(v.list, function(_i, _item) {
					// 		var key = _set(_item);
					// 		html += '<a href=\''+_getInvokeUrl('initContent', key, true)+'\'><img src="'+_item.img+'"/></a>';
					// 	});
					// 	html += '</div>';
					// 	html += '</li>';
					// });
				} else {
					html += '<ul>';
					$.each(data.l,function(i,v){
						var src = v.url;
						var img = v.img;
						var title = v.title;
						var time = v.time;
						var fontColor = v.fontColor;

						var t = v.type;

						var href;
						if (type == 'pdf') {
							href = _getPdfUrl(src, title);
						} else {
							var method = 'initContent';
							if (t == 'l') {
								method = 'initList';
							} else if (t == 's') {
								method = 'initNavSort';
							}
							if (t == 'alarm') {
								src = _set(v);
							}
							href = _getInvokeUrl(method, src, true, title);
						}
						html += '<li>'+(img?'<img class="c_list_img" src="'+img+'"/>':'')+
								'<a style="color: '+COLOR_GLOBAL+'" '+(fontColor?'style="color:'+fontColor+'"':'')+
									' href=\''+href+'\'>'+
									title+
								'</a><span>'+time+'</span></li>';
					});
					html += '</ul>';
				}
			}else{
				html += '<ul>';
				html += '<li>暂无'+(type == 'alarm'?'预警':'数据')+'</li>';
				html += '</ul>';
			}

			var totalPage = parseInt(data.totalPage);
			var pageNum = parseInt(data.pageNum);
			if (totalPage > 0 && pageNum > 0) {
				var prev = pageNum-1 > 0? pageNum-1: 1;
				var next = pageNum+1 < totalPage?pageNum+1: totalPage;
				var isHavePrev =  prev != pageNum;
				var isHaveNext = next != pageNum;
				if(isHavePrev || isHaveNext){
					html += '<div class="pager">';
					html += '<div class="btn_pager">';
					if(isHavePrev){
						html += '<a class="btn btn_prev" href=\''+_getInvokeUrl('initList',_getPage(list_url,prev))+'\'>上一页</a>';
					}
					html += '</div><div class="btn_pager">';
					if(isHaveNext){
						html += '<a class="btn btn_next" href=\''+_getInvokeUrl('initList',_getPage(list_url,next))+'\'>下一页</a>';
					}
					html += '</div></div>';
				}
			}
			html += '</div>';
			$(html).appendTo($content);
			Loading.hide();
		},{
			format: function(data){
				console.log('format list:', data);
				if(data){
					// 预警列表
					if ('w' in data) {
						var alarmData = {'type': 'alarm'};
						var dataList = [];
						var obj = {};

						$.each(data.w, function(i, v){
							var name = v.w2;
							(obj[name] || (obj[name] = [])).push(_getAlarmInfo(v));
							// v = _getAlarmInfo(v);
							// dataList.push(v);
						});
						for (var i in obj) {
							dataList.push({
								name: i,
								list: obj[i]
							});
						}
						alarmData.l = dataList;
						data = alarmData;
					}else{
						if (TYPE_ITEM == 'old_doc') {
							var list = [];
							$.each(data.l, function(i, v) {
								list.push({
									url: v.l2,
									time: v.l3,
									title: v.l1
								});
							});
							data.l = list;
						} else {
							var list = [];
							$.each(data.products, function(i, v) {
								list.push({
									url: v.filePath,
									time: v.publicTime,
									title: v.title
								});
							});
							data.l = list;
						}
					}
				}
				return data;
			},
			no_cache: no_cache
		});
	}
	function initContentFormat(data){
		var type = data.type;
		if('jcbw' == type){
			var $temp_div = $('<div>').html(data.c7);
			$temp_div.find('img').wrap(function(){
				var $this = $(this);
				var $p = $this.parent();
				//处理图片居中显示
				if($p.is('p[style="text-indent:2em;"]') && $this.next().is('br')){
					$p.css('text-indent',0);
				}
				return $('<a class="img">').attr('href',_getBigImgUrl($(this).attr('src')));
			});
			data.c7 = $temp_div.html();
			data.c1 || (data.c1 = '');
			data = {'type':'jcbw','org': data.c3,'title': data.c1,'time': data.c4,'content': data.c7};
		}else if('tw' == type){
			if (data.times && data.realDatas) {
				data.type = 'table_new';
			}
		}else{
			if('ALERTID' in data){
				var alarmData = {'type': 'alarm'};
				var org = alarmData.org = data['PROVINCE']+data['CITY']+'气象台';
				alarmData.title = org+'发布'+data['SIGNALTYPE']+data['SIGNALLEVEL']+'预警';
				alarmData.time = data['RELIEVETIME'];
				alarmData.content = '<p>'+data['ISSUECONTENT']+'</p>';
				data = alarmData;
			}
		}

		return data;
	}
	var getFirstLetter = (function() {
		var strChineseFirstPY = "YDYQSXMWZSSXJBYMGCCZQPSSQBYCDSCDQLDYLYBSSJGYZZJJFKCCLZDHWDWZJLJPFYYNWJJTMYHZWZHFLZPPQHGSCYYYNJQYXXGJHHSDSJNKKTMOMLCRXYPSNQSECCQZGGLLYJLMYZZSECYKYYHQWJSSGGYXYZYJWWKDJHYCHMYXJTLXJYQBYXZLDWRDJRWYSRLDZJPCBZJJBRCFTLECZSTZFXXZHTRQHYBDLYCZSSYMMRFMYQZPWWJJYFCRWFDFZQPYDDWYXKYJAWJFFXYPSFTZYHHYZYSWCJYXSCLCXXWZZXNBGNNXBXLZSZSBSGPYSYZDHMDZBQBZCWDZZYYTZHBTSYYBZGNTNXQYWQSKBPHHLXGYBFMJEBJHHGQTJCYSXSTKZHLYCKGLYSMZXYALMELDCCXGZYRJXSDLTYZCQKCNNJWHJTZZCQLJSTSTBNXBTYXCEQXGKWJYFLZQLYHYXSPSFXLMPBYSXXXYDJCZYLLLSJXFHJXPJBTFFYABYXBHZZBJYZLWLCZGGBTSSMDTJZXPTHYQTGLJSCQFZKJZJQNLZWLSLHDZBWJNCJZYZSQQYCQYRZCJJWYBRTWPYFTWEXCSKDZCTBZHYZZYYJXZCFFZZMJYXXSDZZOTTBZLQWFCKSZSXFYRLNYJMBDTHJXSQQCCSBXYYTSYFBXDZTGBCNSLCYZZPSAZYZZSCJCSHZQYDXLBPJLLMQXTYDZXSQJTZPXLCGLQTZWJBHCTSYJSFXYEJJTLBGXSXJMYJQQPFZASYJNTYDJXKJCDJSZCBARTDCLYJQMWNQNCLLLKBYBZZSYHQQLTWLCCXTXLLZNTYLNEWYZYXCZXXGRKRMTCNDNJTSYYSSDQDGHSDBJGHRWRQLYBGLXHLGTGXBQJDZPYJSJYJCTMRNYMGRZJCZGJMZMGXMPRYXKJNYMSGMZJYMKMFXMLDTGFBHCJHKYLPFMDXLQJJSMTQGZSJLQDLDGJYCALCMZCSDJLLNXDJFFFFJCZFMZFFPFKHKGDPSXKTACJDHHZDDCRRCFQYJKQCCWJDXHWJLYLLZGCFCQDSMLZPBJJPLSBCJGGDCKKDEZSQCCKJGCGKDJTJDLZYCXKLQSCGJCLTFPCQCZGWPJDQYZJJBYJHSJDZWGFSJGZKQCCZLLPSPKJGQJHZZLJPLGJGJJTHJJYJZCZMLZLYQBGJWMLJKXZDZNJQSYZMLJLLJKYWXMKJLHSKJGBMCLYYMKXJQLBMLLKMDXXKWYXYSLMLPSJQQJQXYXFJTJDXMXXLLCXQBSYJBGWYMBGGBCYXPJYGPEPFGDJGBHBNSQJYZJKJKHXQFGQZKFHYGKHDKLLSDJQXPQYKYBNQSXQNSZSWHBSXWHXWBZZXDMNSJBSBKBBZKLYLXGWXDRWYQZMYWSJQLCJXXJXKJEQXSCYETLZHLYYYSDZPAQYZCMTLSHTZCFYZYXYLJSDCJQAGYSLCQLYYYSHMRQQKLDXZSCSSSYDYCJYSFSJBFRSSZQSBXXPXJYSDRCKGJLGDKZJZBDKTCSYQPYHSTCLDJDHMXMCGXYZHJDDTMHLTXZXYLYMOHYJCLTYFBQQXPFBDFHHTKSQHZYYWCNXXCRWHOWGYJLEGWDQCWGFJYCSNTMYTOLBYGWQWESJPWNMLRYDZSZTXYQPZGCWXHNGPYXSHMYQJXZTDPPBFYHZHTJYFDZWKGKZBLDNTSXHQEEGZZYLZMMZYJZGXZXKHKSTXNXXWYLYAPSTHXDWHZYMPXAGKYDXBHNHXKDPJNMYHYLPMGOCSLNZHKXXLPZZLBMLSFBHHGYGYYGGBHSCYAQTYWLXTZQCEZYDQDQMMHTKLLSZHLSJZWFYHQSWSCWLQAZYNYTLSXTHAZNKZZSZZLAXXZWWCTGQQTDDYZTCCHYQZFLXPSLZYGPZSZNGLNDQTBDLXGTCTAJDKYWNSYZLJHHZZCWNYYZYWMHYCHHYXHJKZWSXHZYXLYSKQYSPSLYZWMYPPKBYGLKZHTYXAXQSYSHXASMCHKDSCRSWJPWXSGZJLWWSCHSJHSQNHCSEGNDAQTBAALZZMSSTDQJCJKTSCJAXPLGGXHHGXXZCXPDMMHLDGTYBYSJMXHMRCPXXJZCKZXSHMLQXXTTHXWZFKHCCZDYTCJYXQHLXDHYPJQXYLSYYDZOZJNYXQEZYSQYAYXWYPDGXDDXSPPYZNDLTWRHXYDXZZJHTCXMCZLHPYYYYMHZLLHNXMYLLLMDCPPXHMXDKYCYRDLTXJCHHZZXZLCCLYLNZSHZJZZLNNRLWHYQSNJHXYNTTTKYJPYCHHYEGKCTTWLGQRLGGTGTYGYHPYHYLQYQGCWYQKPYYYTTTTLHYHLLTYTTSPLKYZXGZWGPYDSSZZDQXSKCQNMJJZZBXYQMJRTFFBTKHZKBXLJJKDXJTLBWFZPPTKQTZTGPDGNTPJYFALQMKGXBDCLZFHZCLLLLADPMXDJHLCCLGYHDZFGYDDGCYYFGYDXKSSEBDHYKDKDKHNAXXYBPBYYHXZQGAFFQYJXDMLJCSQZLLPCHBSXGJYNDYBYQSPZWJLZKSDDTACTBXZDYZYPJZQSJNKKTKNJDJGYYPGTLFYQKASDNTCYHBLWDZHBBYDWJRYGKZYHEYYFJMSDTYFZJJHGCXPLXHLDWXXJKYTCYKSSSMTWCTTQZLPBSZDZWZXGZAGYKTYWXLHLSPBCLLOQMMZSSLCMBJCSZZKYDCZJGQQDSMCYTZQQLWZQZXSSFPTTFQMDDZDSHDTDWFHTDYZJYQJQKYPBDJYYXTLJHDRQXXXHAYDHRJLKLYTWHLLRLLRCXYLBWSRSZZSYMKZZHHKYHXKSMDSYDYCJPBZBSQLFCXXXNXKXWYWSDZYQOGGQMMYHCDZTTFJYYBGSTTTYBYKJDHKYXBELHTYPJQNFXFDYKZHQKZBYJTZBXHFDXKDASWTAWAJLDYJSFHBLDNNTNQJTJNCHXFJSRFWHZFMDRYJYJWZPDJKZYJYMPCYZNYNXFBYTFYFWYGDBNZZZDNYTXZEMMQBSQEHXFZMBMFLZZSRXYMJGSXWZJSPRYDJSJGXHJJGLJJYNZZJXHGXKYMLPYYYCXYTWQZSWHWLYRJLPXSLSXMFSWWKLCTNXNYNPSJSZHDZEPTXMYYWXYYSYWLXJQZQXZDCLEEELMCPJPCLWBXSQHFWWTFFJTNQJHJQDXHWLBYZNFJLALKYYJLDXHHYCSTYYWNRJYXYWTRMDRQHWQCMFJDYZMHMYYXJWMYZQZXTLMRSPWWCHAQBXYGZYPXYYRRCLMPYMGKSJSZYSRMYJSNXTPLNBAPPYPYLXYYZKYNLDZYJZCZNNLMZHHARQMPGWQTZMXXMLLHGDZXYHXKYXYCJMFFYYHJFSBSSQLXXNDYCANNMTCJCYPRRNYTYQNYYMBMSXNDLYLYSLJRLXYSXQMLLYZLZJJJKYZZCSFBZXXMSTBJGNXYZHLXNMCWSCYZYFZLXBRNNNYLBNRTGZQYSATSWRYHYJZMZDHZGZDWYBSSCSKXSYHYTXXGCQGXZZSHYXJSCRHMKKBXCZJYJYMKQHZJFNBHMQHYSNJNZYBKNQMCLGQHWLZNZSWXKHLJHYYBQLBFCDSXDLDSPFZPSKJYZWZXZDDXJSMMEGJSCSSMGCLXXKYYYLNYPWWWGYDKZJGGGZGGSYCKNJWNJPCXBJJTQTJWDSSPJXZXNZXUMELPXFSXTLLXCLJXJJLJZXCTPSWXLYDHLYQRWHSYCSQYYBYAYWJJJQFWQCQQCJQGXALDBZZYJGKGXPLTZYFXJLTPADKYQHPMATLCPDCKBMTXYBHKLENXDLEEGQDYMSAWHZMLJTWYGXLYQZLJEEYYBQQFFNLYXRDSCTGJGXYYNKLLYQKCCTLHJLQMKKZGCYYGLLLJDZGYDHZWXPYSJBZKDZGYZZHYWYFQYTYZSZYEZZLYMHJJHTSMQWYZLKYYWZCSRKQYTLTDXWCTYJKLWSQZWBDCQYNCJSRSZJLKCDCDTLZZZACQQZZDDXYPLXZBQJYLZLLLQDDZQJYJYJZYXNYYYNYJXKXDAZWYRDLJYYYRJLXLLDYXJCYWYWNQCCLDDNYYYNYCKCZHXXCCLGZQJGKWPPCQQJYSBZZXYJSQPXJPZBSBDSFNSFPZXHDWZTDWPPTFLZZBZDMYYPQJRSDZSQZSQXBDGCPZSWDWCSQZGMDHZXMWWFYBPDGPHTMJTHZSMMBGZMBZJCFZWFZBBZMQCFMBDMCJXLGPNJBBXGYHYYJGPTZGZMQBQTCGYXJXLWZKYDPDYMGCFTPFXYZTZXDZXTGKMTYBBCLBJASKYTSSQYYMSZXFJEWLXLLSZBQJJJAKLYLXLYCCTSXMCWFKKKBSXLLLLJYXTYLTJYYTDPJHNHNNKBYQNFQYYZBYYESSESSGDYHFHWTCJBSDZZTFDMXHCNJZYMQWSRYJDZJQPDQBBSTJGGFBKJBXTGQHNGWJXJGDLLTHZHHYYYYYYSXWTYYYCCBDBPYPZYCCZYJPZYWCBDLFWZCWJDXXHYHLHWZZXJTCZLCDPXUJCZZZLYXJJTXPHFXWPYWXZPTDZZBDZCYHJHMLXBQXSBYLRDTGJRRCTTTHYTCZWMXFYTWWZCWJWXJYWCSKYBZSCCTZQNHXNWXXKHKFHTSWOCCJYBCMPZZYKBNNZPBZHHZDLSYDDYTYFJPXYNGFXBYQXCBHXCPSXTYZDMKYSNXSXLHKMZXLYHDHKWHXXSSKQYHHCJYXGLHZXCSNHEKDTGZXQYPKDHEXTYKCNYMYYYPKQYYYKXZLTHJQTBYQHXBMYHSQCKWWYLLHCYYLNNEQXQWMCFBDCCMLJGGXDQKTLXKGNQCDGZJWYJJLYHHQTTTNWCHMXCXWHWSZJYDJCCDBQCDGDNYXZTHCQRXCBHZTQCBXWGQWYYBXHMBYMYQTYEXMQKYAQYRGYZSLFYKKQHYSSQYSHJGJCNXKZYCXSBXYXHYYLSTYCXQTHYSMGSCPMMGCCCCCMTZTASMGQZJHKLOSQYLSWTMXSYQKDZLJQQYPLSYCZTCQQPBBQJZCLPKHQZYYXXDTDDTSJCXFFLLCHQXMJLWCJCXTSPYCXNDTJSHJWXDQQJSKXYAMYLSJHMLALYKXCYYDMNMDQMXMCZNNCYBZKKYFLMCHCMLHXRCJJHSYLNMTJZGZGYWJXSRXCWJGJQHQZDQJDCJJZKJKGDZQGJJYJYLXZXXCDQHHHEYTMHLFSBDJSYYSHFYSTCZQLPBDRFRZTZYKYWHSZYQKWDQZRKMSYNBCRXQBJYFAZPZZEDZCJYWBCJWHYJBQSZYWRYSZPTDKZPFPBNZTKLQYHBBZPNPPTYZZYBQNYDCPJMMCYCQMCYFZZDCMNLFPBPLNGQJTBTTNJZPZBBZNJKLJQYLNBZQHKSJZNGGQSZZKYXSHPZSNBCGZKDDZQANZHJKDRTLZLSWJLJZLYWTJNDJZJHXYAYNCBGTZCSSQMNJPJYTYSWXZFKWJQTKHTZPLBHSNJZSYZBWZZZZLSYLSBJHDWWQPSLMMFBJDWAQYZTCJTBNNWZXQXCDSLQGDSDPDZHJTQQPSWLYYJZLGYXYZLCTCBJTKTYCZJTQKBSJLGMGZDMCSGPYNJZYQYYKNXRPWSZXMTNCSZZYXYBYHYZAXYWQCJTLLCKJJTJHGDXDXYQYZZBYWDLWQCGLZGJGQRQZCZSSBCRPCSKYDZNXJSQGXSSJMYDNSTZTPBDLTKZWXQWQTZEXNQCZGWEZKSSBYBRTSSSLCCGBPSZQSZLCCGLLLZXHZQTHCZMQGYZQZNMCOCSZJMMZSQPJYGQLJYJPPLDXRGZYXCCSXHSHGTZNLZWZKJCXTCFCJXLBMQBCZZWPQDNHXLJCTHYZLGYLNLSZZPCXDSCQQHJQKSXZPBAJYEMSMJTZDXLCJYRYYNWJBNGZZTMJXLTBSLYRZPYLSSCNXPHLLHYLLQQZQLXYMRSYCXZLMMCZLTZSDWTJJLLNZGGQXPFSKYGYGHBFZPDKMWGHCXMSGDXJMCJZDYCABXJDLNBCDQYGSKYDQTXDJJYXMSZQAZDZFSLQXYJSJZYLBTXXWXQQZBJZUFBBLYLWDSLJHXJYZJWTDJCZFQZQZZDZSXZZQLZCDZFJHYSPYMPQZMLPPLFFXJJNZZYLSJEYQZFPFZKSYWJJJHRDJZZXTXXGLGHYDXCSKYSWMMZCWYBAZBJKSHFHJCXMHFQHYXXYZFTSJYZFXYXPZLCHMZMBXHZZSXYFYMNCWDABAZLXKTCSHHXKXJJZJSTHYGXSXYYHHHJWXKZXSSBZZWHHHCWTZZZPJXSNXQQJGZYZYWLLCWXZFXXYXYHXMKYYSWSQMNLNAYCYSPMJKHWCQHYLAJJMZXHMMCNZHBHXCLXTJPLTXYJHDYYLTTXFSZHYXXSJBJYAYRSMXYPLCKDUYHLXRLNLLSTYZYYQYGYHHSCCSMZCTZQXKYQFPYYRPFFLKQUNTSZLLZMWWTCQQYZWTLLMLMPWMBZSSTZRBPDDTLQJJBXZCSRZQQYGWCSXFWZLXCCRSZDZMCYGGDZQSGTJSWLJMYMMZYHFBJDGYXCCPSHXNZCSBSJYJGJMPPWAFFYFNXHYZXZYLREMZGZCYZSSZDLLJCSQFNXZKPTXZGXJJGFMYYYSNBTYLBNLHPFZDCYFBMGQRRSSSZXYSGTZRNYDZZCDGPJAFJFZKNZBLCZSZPSGCYCJSZLMLRSZBZZLDLSLLYSXSQZQLYXZLSKKBRXBRBZCYCXZZZEEYFGKLZLYYHGZSGZLFJHGTGWKRAAJYZKZQTSSHJJXDCYZUYJLZYRZDQQHGJZXSSZBYKJPBFRTJXLLFQWJHYLQTYMBLPZDXTZYGBDHZZRBGXHWNJTJXLKSCFSMWLSDQYSJTXKZSCFWJLBXFTZLLJZLLQBLSQMQQCGCZFPBPHZCZJLPYYGGDTGWDCFCZQYYYQYSSCLXZSKLZZZGFFCQNWGLHQYZJJCZLQZZYJPJZZBPDCCMHJGXDQDGDLZQMFGPSYTSDYFWWDJZJYSXYYCZCYHZWPBYKXRYLYBHKJKSFXTZJMMCKHLLTNYYMSYXYZPYJQYCSYCWMTJJKQYRHLLQXPSGTLYYCLJSCPXJYZFNMLRGJJTYZBXYZMSJYJHHFZQMSYXRSZCWTLRTQZSSTKXGQKGSPTGCZNJSJCQCXHMXGGZTQYDJKZDLBZSXJLHYQGGGTHQSZPYHJHHGYYGKGGCWJZZYLCZLXQSFTGZSLLLMLJSKCTBLLZZSZMMNYTPZSXQHJCJYQXYZXZQZCPSHKZZYSXCDFGMWQRLLQXRFZTLYSTCTMJCXJJXHJNXTNRZTZFQYHQGLLGCXSZSJDJLJCYDSJTLNYXHSZXCGJZYQPYLFHDJSBPCCZHJJJQZJQDYBSSLLCMYTTMQTBHJQNNYGKYRQYQMZGCJKPDCGMYZHQLLSLLCLMHOLZGDYYFZSLJCQZLYLZQJESHNYLLJXGJXLYSYYYXNBZLJSSZCQQCJYLLZLTJYLLZLLBNYLGQCHXYYXOXCXQKYJXXXYKLXSXXYQXCYKQXQCSGYXXYQXYGYTQOHXHXPYXXXULCYEYCHZZCBWQBBWJQZSCSZSSLZYLKDESJZWMYMCYTSDSXXSCJPQQSQYLYYZYCMDJDZYWCBTJSYDJKCYDDJLBDJJSODZYSYXQQYXDHHGQQYQHDYXWGMMMAJDYBBBPPBCMUUPLJZSMTXERXJMHQNUTPJDCBSSMSSSTKJTSSMMTRCPLZSZMLQDSDMJMQPNQDXCFYNBFSDQXYXHYAYKQYDDLQYYYSSZBYDSLNTFQTZQPZMCHDHCZCWFDXTMYQSPHQYYXSRGJCWTJTZZQMGWJJTJHTQJBBHWZPXXHYQFXXQYWYYHYSCDYDHHQMNMTMWCPBSZPPZZGLMZFOLLCFWHMMSJZTTDHZZYFFYTZZGZYSKYJXQYJZQBHMBZZLYGHGFMSHPZFZSNCLPBQSNJXZSLXXFPMTYJYGBXLLDLXPZJYZJYHHZCYWHJYLSJEXFSZZYWXKZJLUYDTMLYMQJPWXYHXSKTQJEZRPXXZHHMHWQPWQLYJJQJJZSZCPHJLCHHNXJLQWZJHBMZYXBDHHYPZLHLHLGFWLCHYYTLHJXCJMSCPXSTKPNHQXSRTYXXTESYJCTLSSLSTDLLLWWYHDHRJZSFGXTSYCZYNYHTDHWJSLHTZDQDJZXXQHGYLTZPHCSQFCLNJTCLZPFSTPDYNYLGMJLLYCQHYSSHCHYLHQYQTMZYPBYWRFQYKQSYSLZDQJMPXYYSSRHZJNYWTQDFZBWWTWWRXCWHGYHXMKMYYYQMSMZHNGCEPMLQQMTCWCTMMPXJPJJHFXYYZSXZHTYBMSTSYJTTQQQYYLHYNPYQZLCYZHZWSMYLKFJXLWGXYPJYTYSYXYMZCKTTWLKSMZSYLMPWLZWXWQZSSAQSYXYRHSSNTSRAPXCPWCMGDXHXZDZYFJHGZTTSBJHGYZSZYSMYCLLLXBTYXHBBZJKSSDMALXHYCFYGMQYPJYCQXJLLLJGSLZGQLYCJCCZOTYXMTMTTLLWTGPXYMZMKLPSZZZXHKQYSXCTYJZYHXSHYXZKXLZWPSQPYHJWPJPWXQQYLXSDHMRSLZZYZWTTCYXYSZZSHBSCCSTPLWSSCJCHNLCGCHSSPHYLHFHHXJSXYLLNYLSZDHZXYLSXLWZYKCLDYAXZCMDDYSPJTQJZLNWQPSSSWCTSTSZLBLNXSMNYYMJQBQHRZWTYYDCHQLXKPZWBGQYBKFCMZWPZLLYYLSZYDWHXPSBCMLJBSCGBHXLQHYRLJXYSWXWXZSLDFHLSLYNJLZYFLYJYCDRJLFSYZFSLLCQYQFGJYHYXZLYLMSTDJCYHBZLLNWLXXYGYYHSMGDHXXHHLZZJZXCZZZCYQZFNGWPYLCPKPYYPMCLQKDGXZGGWQBDXZZKZFBXXLZXJTPJPTTBYTSZZDWSLCHZHSLTYXHQLHYXXXYYZYSWTXZKHLXZXZPYHGCHKCFSYHUTJRLXFJXPTZTWHPLYXFCRHXSHXKYXXYHZQDXQWULHYHMJTBFLKHTXCWHJFWJCFPQRYQXCYYYQYGRPYWSGSUNGWCHKZDXYFLXXHJJBYZWTSXXNCYJJYMSWZJQRMHXZWFQSYLZJZGBHYNSLBGTTCSYBYXXWXYHXYYXNSQYXMQYWRGYQLXBBZLJSYLPSYTJZYHYZAWLRORJMKSCZJXXXYXCHDYXRYXXJDTSQFXLYLTSFFYXLMTYJMJUYYYXLTZCSXQZQHZXLYYXZHDNBRXXXJCTYHLBRLMBRLLAXKYLLLJLYXXLYCRYLCJTGJCMTLZLLCYZZPZPCYAWHJJFYBDYYZSMPCKZDQYQPBPCJPDCYZMDPBCYYDYCNNPLMTMLRMFMMGWYZBSJGYGSMZQQQZTXMKQWGXLLPJGZBQCDJJJFPKJKCXBLJMSWMDTQJXLDLPPBXCWRCQFBFQJCZAHZGMYKPHYYHZYKNDKZMBPJYXPXYHLFPNYYGXJDBKXNXHJMZJXSTRSTLDXSKZYSYBZXJLXYSLBZYSLHXJPFXPQNBYLLJQKYGZMCYZZYMCCSLCLHZFWFWYXZMWSXTYNXJHPYYMCYSPMHYSMYDYSHQYZCHMJJMZCAAGCFJBBHPLYZYLXXSDJGXDHKXXTXXNBHRMLYJSLTXMRHNLXQJXYZLLYSWQGDLBJHDCGJYQYCMHWFMJYBMBYJYJWYMDPWHXQLDYGPDFXXBCGJSPCKRSSYZJMSLBZZJFLJJJLGXZGYXYXLSZQYXBEXYXHGCXBPLDYHWETTWWCJMBTXCHXYQXLLXFLYXLLJLSSFWDPZSMYJCLMWYTCZPCHQEKCQBWLCQYDPLQPPQZQFJQDJHYMMCXTXDRMJWRHXCJZYLQXDYYNHYYHRSLSRSYWWZJYMTLTLLGTQCJZYABTCKZCJYCCQLJZQXALMZYHYWLWDXZXQDLLQSHGPJFJLJHJABCQZDJGTKHSSTCYJLPSWZLXZXRWGLDLZRLZXTGSLLLLZLYXXWGDZYGBDPHZPBRLWSXQBPFDWOFMWHLYPCBJCCLDMBZPBZZLCYQXLDOMZBLZWPDWYYGDSTTHCSQSCCRSSSYSLFYBFNTYJSZDFNDPDHDZZMBBLSLCMYFFGTJJQWFTMTPJWFNLBZCMMJTGBDZLQLPYFHYYMJYLSDCHDZJWJCCTLJCLDTLJJCPDDSQDSSZYBNDBJLGGJZXSXNLYCYBJXQYCBYLZCFZPPGKCXZDZFZTJJFJSJXZBNZYJQTTYJYHTYCZHYMDJXTTMPXSPLZCDWSLSHXYPZGTFMLCJTYCBPMGDKWYCYZCDSZZYHFLYCTYGWHKJYYLSJCXGYWJCBLLCSNDDBTZBSCLYZCZZSSQDLLMQYYHFSLQLLXFTYHABXGWNYWYYPLLSDLDLLBJCYXJZMLHLJDXYYQYTDLLLBUGBFDFBBQJZZMDPJHGCLGMJJPGAEHHBWCQXAXHHHZCHXYPHJAXHLPHJPGPZJQCQZGJJZZUZDMQYYBZZPHYHYBWHAZYJHYKFGDPFQSDLZMLJXKXGALXZDAGLMDGXMWZQYXXDXXPFDMMSSYMPFMDMMKXKSYZYSHDZKXSYSMMZZZMSYDNZZCZXFPLSTMZDNMXCKJMZTYYMZMZZMSXHHDCZJEMXXKLJSTLWLSQLYJZLLZJSSDPPMHNLZJCZYHMXXHGZCJMDHXTKGRMXFWMCGMWKDTKSXQMMMFZZYDKMSCLCMPCGMHSPXQPZDSSLCXKYXTWLWJYAHZJGZQMCSNXYYMMPMLKJXMHLMLQMXCTKZMJQYSZJSYSZHSYJZJCDAJZYBSDQJZGWZQQXFKDMSDJLFWEHKZQKJPEYPZYSZCDWYJFFMZZYLTTDZZEFMZLBNPPLPLPEPSZALLTYLKCKQZKGENQLWAGYXYDPXLHSXQQWQCQXQCLHYXXMLYCCWLYMQYSKGCHLCJNSZKPYZKCQZQLJPDMDZHLASXLBYDWQLWDNBQCRYDDZTJYBKBWSZDXDTNPJDTCTQDFXQQMGNXECLTTBKPWSLCTYQLPWYZZKLPYGZCQQPLLKCCYLPQMZCZQCLJSLQZDJXLDDHPZQDLJJXZQDXYZQKZLJCYQDYJPPYPQYKJYRMPCBYMCXKLLZLLFQPYLLLMBSGLCYSSLRSYSQTMXYXZQZFDZUYSYZTFFMZZSMZQHZSSCCMLYXWTPZGXZJGZGSJSGKDDHTQGGZLLBJDZLCBCHYXYZHZFYWXYZYMSDBZZYJGTSMTFXQYXQSTDGSLNXDLRYZZLRYYLXQHTXSRTZNGZXBNQQZFMYKMZJBZYMKBPNLYZPBLMCNQYZZZSJZHJCTZKHYZZJRDYZHNPXGLFZTLKGJTCTSSYLLGZRZBBQZZKLPKLCZYSSUYXBJFPNJZZXCDWXZYJXZZDJJKGGRSRJKMSMZJLSJYWQSKYHQJSXPJZZZLSNSHRNYPZTWCHKLPSRZLZXYJQXQKYSJYCZTLQZYBBYBWZPQDWWYZCYTJCJXCKCWDKKZXSGKDZXWWYYJQYYTCYTDLLXWKCZKKLCCLZCQQDZLQLCSFQCHQHSFSMQZZLNBJJZBSJHTSZDYSJQJPDLZCDCWJKJZZLPYCGMZWDJJBSJQZSYZYHHXJPBJYDSSXDZNCGLQMBTSFSBPDZDLZNFGFJGFSMPXJQLMBLGQCYYXBQKDJJQYRFKZTJDHCZKLBSDZCFJTPLLJGXHYXZCSSZZXSTJYGKGCKGYOQXJPLZPBPGTGYJZGHZQZZLBJLSQFZGKQQJZGYCZBZQTLDXRJXBSXXPZXHYZYCLWDXJJHXMFDZPFZHQHQMQGKSLYHTYCGFRZGNQXCLPDLBZCSCZQLLJBLHBZCYPZZPPDYMZZSGYHCKCPZJGSLJLNSCDSLDLXBMSTLDDFJMKDJDHZLZXLSZQPQPGJLLYBDSZGQLBZLSLKYYHZTTNTJYQTZZPSZQZTLLJTYYLLQLLQYZQLBDZLSLYYZYMDFSZSNHLXZNCZQZPBWSKRFBSYZMTHBLGJPMCZZLSTLXSHTCSYZLZBLFEQHLXFLCJLYLJQCBZLZJHHSSTBRMHXZHJZCLXFNBGXGTQJCZTMSFZKJMSSNXLJKBHSJXNTNLZDNTLMSJXGZJYJCZXYJYJWRWWQNZTNFJSZPZSHZJFYRDJSFSZJZBJFZQZZHZLXFYSBZQLZSGYFTZDCSZXZJBQMSZKJRHYJZCKMJKHCHGTXKXQGLXPXFXTRTYLXJXHDTSJXHJZJXZWZLCQSBTXWXGXTXXHXFTSDKFJHZYJFJXRZSDLLLTQSQQZQWZXSYQTWGWBZCGZLLYZBCLMQQTZHZXZXLJFRMYZFLXYSQXXJKXRMQDZDMMYYBSQBHGZMWFWXGMXLZPYYTGZYCCDXYZXYWGSYJYZNBHPZJSQSYXSXRTFYZGRHZTXSZZTHCBFCLSYXZLZQMZLMPLMXZJXSFLBYZMYQHXJSXRXSQZZZSSLYFRCZJRCRXHHZXQYDYHXSJJHZCXZBTYNSYSXJBQLPXZQPYMLXZKYXLXCJLCYSXXZZLXDLLLJJYHZXGYJWKJRWYHCPSGNRZLFZWFZZNSXGXFLZSXZZZBFCSYJDBRJKRDHHGXJLJJTGXJXXSTJTJXLYXQFCSGSWMSBCTLQZZWLZZKXJMLTMJYHSDDBXGZHDLBMYJFRZFSGCLYJBPMLYSMSXLSZJQQHJZFXGFQFQBPXZGYYQXGZTCQWYLTLGWSGWHRLFSFGZJMGMGBGTJFSYZZGZYZAFLSSPMLPFLCWBJZCLJJMZLPJJLYMQDMYYYFBGYGYZMLYZDXQYXRQQQHSYYYQXYLJTYXFSFSLLGNQCYHYCWFHCCCFXPYLYPLLZYXXXXXKQHHXSHJZCFZSCZJXCPZWHHHHHAPYLQALPQAFYHXDYLUKMZQGGGDDESRNNZLTZGCHYPPYSQJJHCLLJTOLNJPZLJLHYMHEYDYDSQYCDDHGZUNDZCLZYZLLZNTNYZGSLHSLPJJBDGWXPCDUTJCKLKCLWKLLCASSTKZZDNQNTTLYYZSSYSSZZRYLJQKCQDHHCRXRZYDGRGCWCGZQFFFPPJFZYNAKRGYWYQPQXXFKJTSZZXSWZDDFBBXTBGTZKZNPZZPZXZPJSZBMQHKCYXYLDKLJNYPKYGHGDZJXXEAHPNZKZTZCMXCXMMJXNKSZQNMNLWBWWXJKYHCPSTMCSQTZJYXTPCTPDTNNPGLLLZSJLSPBLPLQHDTNJNLYYRSZFFJFQWDPHZDWMRZCCLODAXNSSNYZRESTYJWJYJDBCFXNMWTTBYLWSTSZGYBLJPXGLBOCLHPCBJLTMXZLJYLZXCLTPNCLCKXTPZJSWCYXSFYSZDKNTLBYJCYJLLSTGQCBXRYZXBXKLYLHZLQZLNZCXWJZLJZJNCJHXMNZZGJZZXTZJXYCYYCXXJYYXJJXSSSJSTSSTTPPGQTCSXWZDCSYFPTFBFHFBBLZJCLZZDBXGCXLQPXKFZFLSYLTUWBMQJHSZBMDDBCYSCCLDXYCDDQLYJJWMQLLCSGLJJSYFPYYCCYLTJANTJJPWYCMMGQYYSXDXQMZHSZXPFTWWZQSWQRFKJLZJQQYFBRXJHHFWJJZYQAZMYFRHCYYBYQWLPEXCCZSTYRLTTDMQLYKMBBGMYYJPRKZNPBSXYXBHYZDJDNGHPMFSGMWFZMFQMMBCMZZCJJLCNUXYQLMLRYGQZCYXZLWJGCJCGGMCJNFYZZJHYCPRRCMTZQZXHFQGTJXCCJEAQCRJYHPLQLSZDJRBCQHQDYRHYLYXJSYMHZYDWLDFRYHBPYDTSSCNWBXGLPZMLZZTQSSCPJMXXYCSJYTYCGHYCJWYRXXLFEMWJNMKLLSWTXHYYYNCMMCWJDQDJZGLLJWJRKHPZGGFLCCSCZMCBLTBHBQJXQDSPDJZZGKGLFQYWBZYZJLTSTDHQHCTCBCHFLQMPWDSHYYTQWCNZZJTLBYMBPDYYYXSQKXWYYFLXXNCWCXYPMAELYKKJMZZZBRXYYQJFLJPFHHHYTZZXSGQQMHSPGDZQWBWPJHZJDYSCQWZKTXXSQLZYYMYSDZGRXCKKUJLWPYSYSCSYZLRMLQSYLJXBCXTLWDQZPCYCYKPPPNSXFYZJJRCEMHSZMSXLXGLRWGCSTLRSXBZGBZGZTCPLUJLSLYLYMTXMTZPALZXPXJTJWTCYYZLBLXBZLQMYLXPGHDSLSSDMXMBDZZSXWHAMLCZCPJMCNHJYSNSYGCHSKQMZZQDLLKABLWJXSFMOCDXJRRLYQZKJMYBYQLYHETFJZFRFKSRYXFJTWDSXXSYSQJYSLYXWJHSNLXYYXHBHAWHHJZXWMYLJCSSLKYDZTXBZSYFDXGXZJKHSXXYBSSXDPYNZWRPTQZCZENYGCXQFJYKJBZMLJCMQQXUOXSLYXXLYLLJDZBTYMHPFSTTQQWLHOKYBLZZALZXQLHZWRRQHLSTMYPYXJJXMQSJFNBXYXYJXXYQYLTHYLQYFMLKLJTMLLHSZWKZHLJMLHLJKLJSTLQXYLMBHHLNLZXQJHXCFXXLHYHJJGBYZZKBXSCQDJQDSUJZYYHZHHMGSXCSYMXFEBCQWWRBPYYJQTYZCYQYQQZYHMWFFHGZFRJFCDPXNTQYZPDYKHJLFRZXPPXZDBBGZQSTLGDGYLCQMLCHHMFYWLZYXKJLYPQHSYWMQQGQZMLZJNSQXJQSYJYCBEHSXFSZPXZWFLLBCYYJDYTDTHWZSFJMQQYJLMQXXLLDTTKHHYBFPWTYYSQQWNQWLGWDEBZWCMYGCULKJXTMXMYJSXHYBRWFYMWFRXYQMXYSZTZZTFYKMLDHQDXWYYNLCRYJBLPSXCXYWLSPRRJWXHQYPHTYDNXHHMMYWYTZCSQMTSSCCDALWZTCPQPYJLLQZYJSWXMZZMMYLMXCLMXCZMXMZSQTZPPQQBLPGXQZHFLJJHYTJSRXWZXSCCDLXTYJDCQJXSLQYCLZXLZZXMXQRJMHRHZJBHMFLJLMLCLQNLDXZLLLPYPSYJYSXCQQDCMQJZZXHNPNXZMEKMXHYKYQLXSXTXJYYHWDCWDZHQYYBGYBCYSCFGPSJNZDYZZJZXRZRQJJYMCANYRJTLDPPYZBSTJKXXZYPFDWFGZZRPYMTNGXZQBYXNBUFNQKRJQZMJEGRZGYCLKXZDSKKNSXKCLJSPJYYZLQQJYBZSSQLLLKJXTBKTYLCCDDBLSPPFYLGYDTZJYQGGKQTTFZXBDKTYYHYBBFYTYYBCLPDYTGDHRYRNJSPTCSNYJQHKLLLZSLYDXXWBCJQSPXBPJZJCJDZFFXXBRMLAZHCSNDLBJDSZBLPRZTSWSBXBCLLXXLZDJZSJPYLYXXYFTFFFBHJJXGBYXJPMMMPSSJZJMTLYZJXSWXTYLEDQPJMYGQZJGDJLQJWJQLLSJGJGYGMSCLJJXDTYGJQJQJCJZCJGDZZSXQGSJGGCXHQXSNQLZZBXHSGZXCXYLJXYXYYDFQQJHJFXDHCTXJYRXYSQTJXYEFYYSSYYJXNCYZXFXMSYSZXYYSCHSHXZZZGZZZGFJDLTYLNPZGYJYZYYQZPBXQBDZTZCZYXXYHHSQXSHDHGQHJHGYWSZTMZMLHYXGEBTYLZKQWYTJZRCLEKYSTDBCYKQQSAYXCJXWWGSBHJYZYDHCSJKQCXSWXFLTYNYZPZCCZJQTZWJQDZZZQZLJJXLSBHPYXXPSXSHHEZTXFPTLQYZZXHYTXNCFZYYHXGNXMYWXTZSJPTHHGYMXMXQZXTSBCZYJYXXTYYZYPCQLMMSZMJZZLLZXGXZAAJZYXJMZXWDXZSXZDZXLEYJJZQBHZWZZZQTZPSXZTDSXJJJZNYAZPHXYYSRNQDTHZHYYKYJHDZXZLSWCLYBZYECWCYCRYLCXNHZYDZYDYJDFRJJHTRSQTXYXJRJHOJYNXELXSFSFJZGHPZSXZSZDZCQZBYYKLSGSJHCZSHDGQGXYZGXCHXZJWYQWGYHKSSEQZZNDZFKWYSSTCLZSTSYMCDHJXXYWEYXCZAYDMPXMDSXYBSQMJMZJMTZQLPJYQZCGQHXJHHLXXHLHDLDJQCLDWBSXFZZYYSCHTYTYYBHECXHYKGJPXHHYZJFXHWHBDZFYZBCAPNPGNYDMSXHMMMMAMYNBYJTMPXYYMCTHJBZYFCGTYHWPHFTWZZEZSBZEGPFMTSKFTYCMHFLLHGPZJXZJGZJYXZSBBQSCZZLZCCSTPGXMJSFTCCZJZDJXCYBZLFCJSYZFGSZLYBCWZZBYZDZYPSWYJZXZBDSYUXLZZBZFYGCZXBZHZFTPBGZGEJBSTGKDMFHYZZJHZLLZZGJQZLSFDJSSCBZGPDLFZFZSZYZYZSYGCXSNXXCHCZXTZZLJFZGQSQYXZJQDCCZTQCDXZJYQJQCHXZTDLGSCXZSYQJQTZWLQDQZTQCHQQJZYEZZZPBWKDJFCJPZTYPQYQTTYNLMBDKTJZPQZQZZFPZSBNJLGYJDXJDZZKZGQKXDLPZJTCJDQBXDJQJSTCKNXBXZMSLYJCQMTJQWWCJQNJNLLLHJCWQTBZQYDZCZPZZDZYDDCYZZZCCJTTJFZDPRRTZTJDCQTQZDTJNPLZBCLLCTZSXKJZQZPZLBZRBTJDCXFCZDBCCJJLTQQPLDCGZDBBZJCQDCJWYNLLZYZCCDWLLXWZLXRXNTQQCZXKQLSGDFQTDDGLRLAJJTKUYMKQLLTZYTDYYCZGJWYXDXFRSKSTQTENQMRKQZHHQKDLDAZFKYPBGGPZREBZZYKZZSPEGJXGYKQZZZSLYSYYYZWFQZYLZZLZHWCHKYPQGNPGBLPLRRJYXCCSYYHSFZFYBZYYTGZXYLXCZWXXZJZBLFFLGSKHYJZEYJHLPLLLLCZGXDRZELRHGKLZZYHZLYQSZZJZQLJZFLNBHGWLCZCFJYSPYXZLZLXGCCPZBLLCYBBBBUBBCBPCRNNZCZYRBFSRLDCGQYYQXYGMQZWTZYTYJXYFWTEHZZJYWLCCNTZYJJZDEDPZDZTSYQJHDYMBJNYJZLXTSSTPHNDJXXBYXQTZQDDTJTDYYTGWSCSZQFLSHLGLBCZPHDLYZJYCKWTYTYLBNYTSDSYCCTYSZYYEBHEXHQDTWNYGYCLXTSZYSTQMYGZAZCCSZZDSLZCLZRQXYYELJSBYMXSXZTEMBBLLYYLLYTDQYSHYMRQWKFKBFXNXSBYCHXBWJYHTQBPBSBWDZYLKGZSKYHXQZJXHXJXGNLJKZLYYCDXLFYFGHLJGJYBXQLYBXQPQGZTZPLNCYPXDJYQYDYMRBESJYYHKXXSTMXRCZZYWXYQYBMCLLYZHQYZWQXDBXBZWZMSLPDMYSKFMZKLZCYQYCZLQXFZZYDQZPZYGYJYZMZXDZFYFYTTQTZHGSPCZMLCCYTZXJCYTJMKSLPZHYSNZLLYTPZCTZZCKTXDHXXTQCYFKSMQCCYYAZHTJPCYLZLYJBJXTPNYLJYYNRXSYLMMNXJSMYBCSYSYLZYLXJJQYLDZLPQBFZZBLFNDXQKCZFYWHGQMRDSXYCYTXNQQJZYYPFZXDYZFPRXEJDGYQBXRCNFYYQPGHYJDYZXGRHTKYLNWDZNTSMPKLBTHBPYSZBZTJZSZZJTYYXZPHSSZZBZCZPTQFZMYFLYPYBBJQXZMXXDJMTSYSKKBJZXHJCKLPSMKYJZCXTMLJYXRZZQSLXXQPYZXMKYXXXJCLJPRMYYGADYSKQLSNDHYZKQXZYZTCGHZTLMLWZYBWSYCTBHJHJFCWZTXWYTKZLXQSHLYJZJXTMPLPYCGLTBZZTLZJCYJGDTCLKLPLLQPJMZPAPXYZLKKTKDZCZZBNZDYDYQZJYJGMCTXLTGXSZLMLHBGLKFWNWZHDXUHLFMKYSLGXDTWWFRJEJZTZHYDXYKSHWFZCQSHKTMQQHTZHYMJDJSKHXZJZBZZXYMPAGQMSTPXLSKLZYNWRTSQLSZBPSPSGZWYHTLKSSSWHZZLYYTNXJGMJSZSUFWNLSOZTXGXLSAMMLBWLDSZYLAKQCQCTMYCFJBSLXCLZZCLXXKSBZQCLHJPSQPLSXXCKSLNHPSFQQYTXYJZLQLDXZQJZDYYDJNZPTUZDSKJFSLJHYLZSQZLBTXYDGTQFDBYAZXDZHZJNHHQBYKNXJJQCZMLLJZKSPLDYCLBBLXKLELXJLBQYCXJXGCNLCQPLZLZYJTZLJGYZDZPLTQCSXFDMNYCXGBTJDCZNBGBQYQJWGKFHTNPYQZQGBKPBBYZMTJDYTBLSQMPSXTBNPDXKLEMYYCJYNZCTLDYKZZXDDXHQSHDGMZSJYCCTAYRZLPYLTLKXSLZCGGEXCLFXLKJRTLQJAQZNCMBYDKKCXGLCZJZXJHPTDJJMZQYKQSECQZDSHHADMLZFMMZBGNTJNNLGBYJBRBTMLBYJDZXLCJLPLDLPCQDHLXZLYCBLCXZZJADJLNZMMSSSMYBHBSQKBHRSXXJMXSDZNZPXLGBRHWGGFCXGMSKLLTSJYYCQLTSKYWYYHYWXBXQYWPYWYKQLSQPTNTKHQCWDQKTWPXXHCPTHTWUMSSYHBWCRWXHJMKMZNGWTMLKFGHKJYLSYYCXWHYECLQHKQHTTQKHFZLDXQWYZYYDESBPKYRZPJFYYZJCEQDZZDLATZBBFJLLCXDLMJSSXEGYGSJQXCWBXSSZPDYZCXDNYXPPZYDLYJCZPLTXLSXYZYRXCYYYDYLWWNZSAHJSYQYHGYWWAXTJZDAXYSRLTDPSSYYFNEJDXYZHLXLLLZQZSJNYQYQQXYJGHZGZCYJCHZLYCDSHWSHJZYJXCLLNXZJJYYXNFXMWFPYLCYLLABWDDHWDXJMCXZTZPMLQZHSFHZYNZTLLDYWLSLXHYMMYLMBWWKYXYADTXYLLDJPYBPWUXJMWMLLSAFDLLYFLBHHHBQQLTZJCQJLDJTFFKMMMBYTHYGDCQRDDWRQJXNBYSNWZDBYYTBJHPYBYTTJXAAHGQDQTMYSTQXKBTZPKJLZRBEQQSSMJJBDJOTGTBXPGBKTLHQXJJJCTHXQDWJLWRFWQGWSHCKRYSWGFTGYGBXSDWDWRFHWYTJJXXXJYZYSLPYYYPAYXHYDQKXSHXYXGSKQHYWFDDDPPLCJLQQEEWXKSYYKDYPLTJTHKJLTCYYHHJTTPLTZZCDLTHQKZXQYSTEEYWYYZYXXYYSTTJKLLPZMCYHQGXYHSRMBXPLLNQYDQHXSXXWGDQBSHYLLPJJJTHYJKYPPTHYYKTYEZYENMDSHLCRPQFDGFXZPSFTLJXXJBSWYYSKSFLXLPPLBBBLBSFXFYZBSJSSYLPBBFFFFSSCJDSTZSXZRYYSYFFSYZYZBJTBCTSBSDHRTJJBYTCXYJEYLXCBNEBJDSYXYKGSJZBXBYTFZWGENYHHTHZHHXFWGCSTBGXKLSXYWMTMBYXJSTZSCDYQRCYTWXZFHMYMCXLZNSDJTTTXRYCFYJSBSDYERXJLJXBBDEYNJGHXGCKGSCYMBLXJMSZNSKGXFBNBPTHFJAAFXYXFPXMYPQDTZCXZZPXRSYWZDLYBBKTYQPQJPZYPZJZNJPZJLZZFYSBTTSLMPTZRTDXQSJEHBZYLZDHLJSQMLHTXTJECXSLZZSPKTLZKQQYFSYGYWPCPQFHQHYTQXZKRSGTTSQCZLPTXCDYYZXSQZSLXLZMYCPCQBZYXHBSXLZDLTCDXTYLZJYYZPZYZLTXJSJXHLPMYTXCQRBLZSSFJZZTNJYTXMYJHLHPPLCYXQJQQKZZSCPZKSWALQSBLCCZJSXGWWWYGYKTJBBZTDKHXHKGTGPBKQYSLPXPJCKBMLLXDZSTBKLGGQKQLSBKKTFXRMDKBFTPZFRTBBRFERQGXYJPZSSTLBZTPSZQZSJDHLJQLZBPMSMMSXLQQNHKNBLRDDNXXDHDDJCYYGYLXGZLXSYGMQQGKHBPMXYXLYTQWLWGCPBMQXCYZYDRJBHTDJYHQSHTMJSBYPLWHLZFFNYPMHXXHPLTBQPFBJWQDBYGPNZTPFZJGSDDTQSHZEAWZZYLLTYYBWJKXXGHLFKXDJTMSZSQYNZGGSWQSPHTLSSKMCLZXYSZQZXNCJDQGZDLFNYKLJCJLLZLMZZNHYDSSHTHZZLZZBBHQZWWYCRZHLYQQJBEYFXXXWHSRXWQHWPSLMSSKZTTYGYQQWRSLALHMJTQJSMXQBJJZJXZYZKXBYQXBJXSHZTSFJLXMXZXFGHKZSZGGYLCLSARJYHSLLLMZXELGLXYDJYTLFBHBPNLYZFBBHPTGJKWETZHKJJXZXXGLLJLSTGSHJJYQLQZFKCGNNDJSSZFDBCTWWSEQFHQJBSAQTGYPQLBXBMMYWXGSLZHGLZGQYFLZBYFZJFRYSFMBYZHQGFWZSYFYJJPHZBYYZFFWODGRLMFTWLBZGYCQXCDJYGZYYYYTYTYDWEGAZYHXJLZYYHLRMGRXXZCLHNELJJTJTPWJYBJJBXJJTJTEEKHWSLJPLPSFYZPQQBDLQJJTYYQLYZKDKSQJYYQZLDQTGJQYZJSUCMRYQTHTEJMFCTYHYPKMHYZWJDQFHYYXWSHCTXRLJHQXHCCYYYJLTKTTYTMXGTCJTZAYYOCZLYLBSZYWJYTSJYHBYSHFJLYGJXXTMZYYLTXXYPZLXYJZYZYYPNHMYMDYYLBLHLSYYQQLLNJJYMSOYQBZGDLYXYLCQYXTSZEGXHZGLHWBLJHEYXTWQMAKBPQCGYSHHEGQCMWYYWLJYJHYYZLLJJYLHZYHMGSLJLJXCJJYCLYCJPCPZJZJMMYLCQLNQLJQJSXYJMLSZLJQLYCMMHCFMMFPQQMFYLQMCFFQMMMMHMZNFHHJGTTHHKHSLNCHHYQDXTMMQDCYZYXYQMYQYLTDCYYYZAZZCYMZYDLZFFFMMYCQZWZZMABTBYZTDMNZZGGDFTYPCGQYTTSSFFWFDTZQSSYSTWXJHXYTSXXYLBYQHWWKXHZXWZNNZZJZJJQJCCCHYYXBZXZCYZTLLCQXYNJYCYYCYNZZQYYYEWYCZDCJYCCHYJLBTZYYCQWMPWPYMLGKDLDLGKQQBGYCHJXY";
		//此处收录了375个多音字
		var oMultiDiff={"19969":"DZ","19975":"WM","19988":"QJ","20048":"YL","20056":"SC","20060":"NM","20094":"QG","20127":"QJ","20167":"QC","20193":"YG","20250":"KH","20256":"ZC","20282":"SC","20285":"QJG","20291":"TD","20314":"YD","20340":"NE","20375":"TD","20389":"YJ","20391":"CZ","20415":"PB","20446":"YS","20447":"SQ","20504":"TC","20608":"KG","20854":"QJ","20857":"ZC","20911":"PF","20504":"TC","20608":"KG","20854":"QJ","20857":"ZC","20911":"PF","20985":"AW","21032":"PB","21048":"XQ","21049":"SC","21089":"YS","21119":"JC","21242":"SB","21273":"SC","21305":"YP","21306":"QO","21330":"ZC","21333":"SDC","21345":"QK","21378":"CA","21397":"SC","21414":"XS","21442":"SC","21477":"JG","21480":"TD","21484":"ZS","21494":"YX","21505":"YX","21512":"HG","21523":"XH","21537":"PB","21542":"PF","21549":"KH","21571":"E","21574":"DA","21588":"TD","21589":"O","21618":"ZC","21621":"KHA","21632":"ZJ","21654":"KG","21679":"LKG","21683":"KH","21710":"A","21719":"YH","21734":"WOE","21769":"A","21780":"WN","21804":"XH","21834":"A","21899":"ZD","21903":"RN","21908":"WO","21939":"ZC","21956":"SA","21964":"YA","21970":"TD","22003":"A","22031":"JG","22040":"XS","22060":"ZC","22066":"ZC","22079":"MH","22129":"XJ","22179":"XA","22237":"NJ","22244":"TD","22280":"JQ","22300":"YH","22313":"XW","22331":"YQ","22343":"YJ","22351":"PH","22395":"DC","22412":"TD","22484":"PB","22500":"PB","22534":"ZD","22549":"DH","22561":"PB","22612":"TD","22771":"KQ","22831":"HB","22841":"JG","22855":"QJ","22865":"XQ","23013":"ML","23081":"WM","23487":"SX","23558":"QJ","23561":"YW","23586":"YW","23614":"YW","23615":"SN","23631":"PB","23646":"ZS","23663":"ZT","23673":"YG","23762":"TD","23769":"ZS","23780":"QJ","23884":"QK","24055":"XH","24113":"DC","24162":"ZC","24191":"GA","24273":"QJ","24324":"NL","24377":"TD","24378":"QJ","24439":"PF","24554":"ZS","24683":"TD","24694":"WE","24733":"LK","24925":"TN","25094":"ZG","25100":"XQ","25103":"XH","25153":"PB","25170":"PB","25179":"KG","25203":"PB","25240":"ZS","25282":"FB","25303":"NA","25324":"KG","25341":"ZY","25373":"WZ","25375":"XJ","25384":"A","25457":"A","25528":"SD","25530":"SC","25552":"TD","25774":"ZC","25874":"ZC","26044":"YW","26080":"WM","26292":"PB","26333":"PB","26355":"ZY","26366":"CZ","26397":"ZC","26399":"QJ","26415":"ZS","26451":"SB","26526":"ZC","26552":"JG","26561":"TD","26588":"JG","26597":"CZ","26629":"ZS","26638":"YL","26646":"XQ","26653":"KG","26657":"XJ","26727":"HG","26894":"ZC","26937":"ZS","26946":"ZC","26999":"KJ","27099":"KJ","27449":"YQ","27481":"XS","27542":"ZS","27663":"ZS","27748":"TS","27784":"SC","27788":"ZD","27795":"TD","27812":"O","27850":"PB","27852":"MB","27895":"SL","27898":"PL","27973":"QJ","27981":"KH","27986":"HX","27994":"XJ","28044":"YC","28065":"WG","28177":"SM","28267":"QJ","28291":"KH","28337":"ZQ","28463":"TL","28548":"DC","28601":"TD","28689":"PB","28805":"JG","28820":"QG","28846":"PB","28952":"TD","28975":"ZC","29100":"A","29325":"QJ","29575":"SL","29602":"FB","30010":"TD","30044":"CX","30058":"PF","30091":"YSP","30111":"YN","30229":"XJ","30427":"SC","30465":"SX","30631":"YQ","30655":"QJ","30684":"QJG","30707":"SD","30729":"XH","30796":"LG","30917":"PB","31074":"NM","31085":"JZ","31109":"SC","31181":"ZC","31192":"MLB","31293":"JQ","31400":"YX","31584":"YJ","31896":"ZN","31909":"ZY","31995":"XJ","32321":"PF","32327":"ZY","32418":"HG","32420":"XQ","32421":"HG","32438":"LG","32473":"GJ","32488":"TD","32521":"QJ","32527":"PB","32562":"ZSQ","32564":"JZ","32735":"ZD","32793":"PB","33071":"PF","33098":"XL","33100":"YA","33152":"PB","33261":"CX","33324":"BP","33333":"TD","33406":"YA","33426":"WM","33432":"PB","33445":"JG","33486":"ZN","33493":"TS","33507":"QJ","33540":"QJ","33544":"ZC","33564":"XQ","33617":"YT","33632":"QJ","33636":"XH","33637":"YX","33694":"WG","33705":"PF","33728":"YW","33882":"SR","34067":"WM","34074":"YW","34121":"QJ","34255":"ZC","34259":"XL","34425":"JH","34430":"XH","34485":"KH","34503":"YS","34532":"HG","34552":"XS","34558":"YE","34593":"ZL","34660":"YQ","34892":"XH","34928":"SC","34999":"QJ","35048":"PB","35059":"SC","35098":"ZC","35203":"TQ","35265":"JX","35299":"JX","35782":"SZ","35828":"YS","35830":"E","35843":"TD","35895":"YG","35977":"MH","36158":"JG","36228":"QJ","36426":"XQ","36466":"DC","36710":"JC","36711":"ZYG","36767":"PB","36866":"SK","36951":"YW","37034":"YX","37063":"XH","37218":"ZC","37325":"ZC","38063":"PB","38079":"TD","38085":"QY","38107":"DC","38116":"TD","38123":"YD","38224":"HG","38241":"XTC","38271":"ZC","38415":"YE","38426":"KH","38461":"YD","38463":"AE","38466":"PB","38477":"XJ","38518":"YT","38551":"WK","38585":"ZC","38704":"XS","38739":"LJ","38761":"GJ","38808":"SQ","39048":"JG","39049":"XJ","39052":"HG","39076":"CZ","39271":"XT","39534":"TD","39552":"TD","39584":"PB","39647":"SB","39730":"LG","39748":"TPB","40109":"ZQ","40479":"ND","40516":"HG","40536":"HG","40583":"QJ","40765":"YQ","40784":"QJ","40840":"YK","40863":"QJG"};

		return function(str) {
			var str_new = '';
			for(var i = 0, j = str.length; i<j; i++) {
				var uni = str.charCodeAt(i);
				//如果不在汉字处理范围之内,返回原字符,也可以调用自己的处理函数
				if(uni > 40869 || uni < 19968)  {
					str_new += str.charAt(i);
				} else {
					var v = (oMultiDiff[uni]?oMultiDiff[uni]:(strChineseFirstPY.charAt(uni-19968)));

					if (v.length > 0) {
						v = v.split('').sort(function(a, b) {
							return a.localeCompare(b)
						}).join('');
					}
					str_new += v.charAt(0);
				}
			}

			return str_new;
		}
	})();
	$('.content').delegate('select', 'change', function() {
		var url = $(this).data('url');
		if (url) {
			initContent(url+'/'+$(this).val());
		}
	}).delegate('.btn_table_new_detail', 'click', function() {
		$(this).closest('.content').find('.table_detail').css('left', '0');
	}).delegate('.btn_table_new_back', 'click', function() {
		$(this).closest('.content').find('.table_detail').css('left', '100%');
	});

	$('.content').delegate('table tr:first td', 'click', function(){
		var data = [];
		var $this = $(this);
		if ($this.data('nosort')) {
			return;
		}
		var $p = $this.parent();
		var widths = $p.find('td').map(function(){
			return $(this).attr('width')
		});
		var is_desc = $this.is('.desc');//$p.data('desc');
		$p.siblings().each(function(){
			var $this = $(this);
			var d = [];
			$this.find('td').map(function(){
				var text = $(this).html();
				d.push(isNaN(text)? text: parseFloat(text));
			})
			data.push(d);
		});
		var index = $this.index();
		data.sort(function(a, b){
			var v_a = a[index],
				v_b = b[index];
			var v = isNaN(v_a) && isNaN(v_b)? getFirstLetter(v_a).localeCompare(getFirstLetter(v_b)): v_a - v_b;
			return is_desc? v: -v;
		});
		is_desc = !is_desc;
		var html = '';
		html += '<tr>'+ $p.html()+'</tr>';
		for(var i = 0, j = data.length; i<j; i++){
			html += '<tr>';
			data[i].forEach(function(v, i_d){
				html += '<td>'+v+'</td>';
			})
			html += '</tr>';
		}
		var $td = $p.parent().html(html).find('tr:first td');
		$td.removeAttr('class').eq(index).attr('class', 'on '+(is_desc?'desc': 'asc'));
	});
	var renderImg = function(img_items, $html){
		return function(toIndex, nextFn){
			Loading.show();
			$html.html($('<img>').on('load',function(){
				Loading.hide();
				nextFn && nextFn();
			}).attr('src', img_items[toIndex]['i']));
			return img_items[toIndex]['n'];
		}
	}
	function initContent(data_url,is_use_temp_list_url,is_use_temp_content_url){
		var no_cache = this.no_cache;
		Loading.show();
		if(typeof data_url == 'string'){
			var cache_info = _get(data_url);
			if (cache_info) {
				return initContent(cache_info, is_use_temp_list_url, is_use_temp_content_url);
			}
			getJson(data_url,function(data){
				_temp_content_url = data_url;
				initContent(data,is_use_temp_list_url,is_use_temp_content_url);
			},{
				/*格式化内容数据*/
				format: initContentFormat,
				no_cache: no_cache
			});
		}else{
			var data = data_url;
			clearContent();
			var type = data.type;
			if('multipleimg' == type) {
				var $html = $('<div class="multipleimg"></div>');
				$content.html($html);
				var imgs = data.imgs.slice();
				imgs.reverse();
				var fn_next = renderImg(imgs, $html);
				initPlayer(imgs, fn_next);
				return;
			}
			if('tw' == type){//图文资讯
				var c_title = data.c1;
				var html = '<div class="c_content '+type+'">';
				if(c_title){
					var time = data.c3;
						html += '<div class="c_title">'+
									'<h2>'+data.c1+'</h2>'+
									(time?'<span class="fr">'+time+'</span>':'')+
								'</div>';
				}

						html += '<div class="c_text">'+data.c2+'</div>'+
								'<span class="c_copyright">'+data.c5+'</span>'
							'</div>';
			}else if('multipleimg' == type){//多图
				var html = '<div class="c_content '+type+'">'+
								'<div class="c_text">'+
									'<ul class="c_img_list">';

					$.each(data.imgs,function(i,v){
						html += 		'<li><a class="img" href="'+_getBigImgUrl(v.i)+'"><img src="'+v.i+'"/><span class="img_desc">'+v.n+'</span></a></li>';
					});
					html +=			'</ul>'+
								'</div>'+
							'</div>';
			}else if('jcbw' == type || 'alarm' == type){
				var html = '<div class="c_content '+type+'">'+
								'<div class="c_title c_f_red">'+
									'<h2>'+data.title+'</h2>'+
									'<div class="c_postil">'+
										'<span class="fl">'+data.org+'</span>'+
										'<span class="fr">'+data.time+'</span>'+
									'</div>'+
								'</div>'+
								'<div class="c_text">'+data.content+'</div>'+
							'</div>';
			}else if('table' == type){
				var title = data.title;
				var rows = data.rows;
				if($.isArray(rows) && $.isArray(title)){
					var widths = data.width;
					if(!widths){
						widths = [];
						var cols = data.title.length;
						var width = 100/cols+'%';
						for(var i = 0;i<cols;i++){
							widths[i] = width;
						}
					}
					var time = data.time;
					var html_time = '';
					if(time){
						html_time = '<div class="data_time">'+time+'</div>';
					}
					var html = '<div class="c_content '+type+'">'+html_time+'<table>';

					var default_col = -1;
					try{
						// 以第一个是数值的列进行排序，默认是倒序
						for(var i = 0, row = rows[0], j = row.length; i<j; i++) {
							if(!isNaN(row[i])) {
								default_col = i;
								break;
							}
						}
					}catch(e){
						console.log(e);
					}
					if(default_col > -1){
						rows.sort(function(a, b){
							return b[i] - a[i]
						});
					}

					html += '<tr>';
					$.each(title, function(i, v) {
						html += '<td width="'+widths[i]+'" '+(i == default_col?'class="on desc"': '')+'>'+v+'</td>';
					});
					html += '</tr>';
					$.each(rows,function(i,v){
						html += '<tr>';
						$.each(v,function(i1,v1){
							html += '<td>'+v1+'</td>';
						})
						html += '</tr>';
					});
					html += '</table></div>';
				}
			} else if ('table_new' == type) {
				var th_old = data.th;
				var th = [];
				$.each(['stationName', 'area', 'val'], function(i, v) {
					th.push({
						key: v,
						val: th_old[v]
					});
				})
				// for(var i in th_old) {
				// 	th.push({
				// 		key: i,
				// 		val: th_old[i]
				// 	});
				// }
				var realDatas = data.realDatas;
				// var widths = data.width;
				// if(!widths){
				// 	widths = [];
				// 	var cols = th.length;
				// 	var width = 100/cols+'%';
				// 	for(var i = 0;i<cols;i++){
				// 		widths[i] = width;
				// 	}
				// }
				var html = '<div class="c_content '+type+'">';
				var html_time = '';
				var times = data.times;
				if (times) {
					html_time += '<select data-url="'+(_temp_content_url.replace(/(\/\d+)+$/, ''))+'">';
					$.each(times, function(i, v) {
						html_time += '<option value="'+v.timeParams+'">'+v.timeString+'</option>';
					});
					html_time += '</select>';
				}
				var img = data.imgUrl;
				html += '<div class="c_content_table '+type+'">'+(img ? '<img src="'+img+'"/>': '暂无图片')+'<br/><a class="btn btn_table_new_detail">详细信息&gt;&gt;</a><br/>'+html_time+'</div>';
				var orderBy = data.orderBy;
				var sort = data.sort;
				html += '<div class="table_detail c_content_table '+type+'"><a class="btn_table_new_back btn">返回</a><br/><div class="data_time">'+(data.title||'')+'</div><table><tr>';
				$.each(th, function(i, v) {
					html += '<td '+(v.key == orderBy?'class="on '+sort+'"': '')+'>'+v.val+'</td>';
				});
				html += '</tr>';
				$.each(realDatas, function(i_data, v_data) {
					html += '<tr>';
					$.each(th, function(i, v) {
						var key = v.key;
						html += '<td>'+v_data[key]+'</td>';
					});
					html += '</tr>';
				});
				html += '</table></div>';
				html += '</div>';
			}
			if(html){
				var $html = $(html);
				var back_href;
				var _fn,_data_url;
				if(is_use_temp_list_url && _temp_list_url){
					back_href = _getInvokeUrl('initList',_temp_list_url);
					_fn = 'initList';
					_data_url = _temp_list_url;
				}
				if(is_use_temp_content_url && _temp_content_url){
					back_href = _getInvokeUrl('initContent',_temp_content_url);
					_fn = 'initContent';
					_data_url = _temp_content_url;
				}
				if(back_href){
					U.canBack(true);
					$html.append('<a class="btn_back_list btn" href=\''+back_href+'\' data-fn="'+_fn+'" data-url="'+_data_url+'">返回</a>');
				}else{
					U.canBack(false);
				}
				$html.appendTo($content);
				setTimeout(function(){
					$('.img').removeAttr('href');
				}, 10)
				// setTimeout(function(){
				// 	$('img').on('click', function(){
				// 		var $this = $(this);
				// 		if($this.width() > 200 || $this.height() > 200){
				// 			Scale.init($this);
				// 		}
				// 	});
				// }, 20);
			}
			Loading.hide();
		}
	}


	U.invoke.reg('initList', initList);
	U.invoke.reg('initContent', initContent);
	U.invoke.reg('initNavSort', initNavSort);
	var isUrl = function(url){
		return /^http:\/\/.+/.test(url);
	};
	!function(){
		var _temp_data;
		var lastRequestTime = 0;
		var fn = function(data,no_cache){
			var c_warning = U.Store.get('c_warning');

			if (c_warning) {
				return;
			}
			var list_url = data.l_url;
			var data_url = data.d_url;
			lastRequestTime = new Date().getTime();
			COLOR_GLOBAL = data.color;
			TYPE_ITEM = data.type;
			if(list_url && isUrl(list_url)){
				initList(list_url,no_cache);
			}else if(data_url && isUrl(data_url)){
				initContent.call({no_cache: no_cache},data_url);
			}else{
				clearContent();
				$('<div class="c_content">暂无内容</div>').appendTo($('.content'));
			}
		}
		// initContent('');
		/*绑定头部导航点击触发事件*/
		$(document).on('init_data',function(e, data){
			_temp_data = data;
			fn(data);
		}).on('back',function(){
			if(Nav.isShow()){
				Nav.toggle(true);
			}else{
				// initList(_temp_list_url);
				var $btn_back_list = $('.btn_back_list');
				var _fn = $btn_back_list.data('fn'),
					_data_url = $btn_back_list.data('url');
				U.invoke(_fn,_data_url);
			}
		}).on('restart',function(){
			console.log('item restart:'+JSON.stringify(_temp_data));
			if(_temp_data && new Date().getTime() - lastRequestTime > 1000 * 60 * 5){
				fn(_temp_data,true);
			}
		});
	}();
	function nav_top_chage_callback(){
		var $content = $('.content');
		var height_nav_top = $('.nav_top').height() + 10;

		$content.css('margin-top',height_nav_top).height($(window).height() - height_nav_top);
	}
	// U.getAppInfo(function(info) {
	// 	console.log(info);
	// });
	/*初始化头部及左侧导航*/
	Nav.Top.init(function($html){
		$('.container').prepend($html);
		//处理从其它页面跳转过来的预警（现在只有在海南首页用）
		var c_warning = U.Store.get('c_warning');
		if(c_warning){
			setTimeout(function() {
				U.Store.rm('c_warning');
			}, 100)
			Nav.Top.title(c_warning.title);
			var data = initContentFormat(c_warning.info);
			initContent(data);
		}
	}, nav_top_chage_callback);


	// initList('http://product.weather.com.cn/alarm/grepalarmBox.php?areaid=[\\d]{5,9}&type=[0-9]{2}&count=-1&_=1400568544074');
	// initContent('http://10.14.85.116/android/ChinaWeatherDecision_assets/test/data/alarm_list.html',false,true);
})
